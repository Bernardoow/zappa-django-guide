
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A full featured walkthough of using Django on Zappa (powered by AWS Lambda in serverless environment)">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.5.4">
    
    
      
        <title>Custom Domains - Guide to using Django with Zappa</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-b1a1975878.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="deep-purple" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="Guide to using Django with Zappa" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Walkthroughs
                </span>
              
            
            Custom Domains
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/edgarroman/zappa-django-guide" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      edgarroman/zappa-django-guide
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../setup/" title="Walkthroughs" class="md-tabs__link md-tabs__link--active">
          Walkthroughs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../aws_credentials/" title="AWS Setup" class="md-tabs__link">
          AWS Setup
        </a>
      
    </li>
  

      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Guide to using Django with Zappa
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/edgarroman/zappa-django-guide" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      edgarroman/zappa-django-guide
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Walkthroughs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Walkthroughs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../setup/" title="Setup your Environment" class="md-nav__link">
      Setup your Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../walk_core/" title="Core Django Setup" class="md-nav__link">
      Core Django Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../walk_static/" title="Hosting Static Files" class="md-nav__link">
      Hosting Static Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../walk_database/" title="Using a Database" class="md-nav__link">
      Using a Database
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Custom Domains
      </label>
    
    <a href="./" title="Custom Domains" class="md-nav__link md-nav__link--active">
      Custom Domains
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lets-talk-about-https" title="Let's talk about HTTPS" class="md-nav__link">
    Let's talk about HTTPS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-the-process" title="Overview of the process" class="md-nav__link">
    Overview of the process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-your-custom-domain" title="Registering your Custom Domain" class="md-nav__link">
    Registering your Custom Domain
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      AWS Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        AWS Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_credentials/" title="Managing Credentials" class="md-nav__link">
      Managing Credentials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_network/" title="Adventures in Networking" class="md-nav__link">
      Adventures in Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_database/" title="Creating an RDS Database" class="md-nav__link">
      Creating an RDS Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_route53/" title="Working with Route53" class="md-nav__link">
      Working with Route53
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws_acm/" title="AWS Credential Manager (ACM)" class="md-nav__link">
      AWS Credential Manager (ACM)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../additional/" title="Additional" class="md-nav__link">
      Additional
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lets-talk-about-https" title="Let's talk about HTTPS" class="md-nav__link">
    Let's talk about HTTPS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-the-process" title="Overview of the process" class="md-nav__link">
    Overview of the process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registering-your-custom-domain" title="Registering your Custom Domain" class="md-nav__link">
    Registering your Custom Domain
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="using-a-custom-domain">Using a Custom Domain<a class="headerlink" href="#using-a-custom-domain" title="Permanent link">&para;</a></h1>
<p>If you've followed the walkthroughs thus far, you've at least created a working <a href="../walk_core/">Django site using Zappa</a>
But the URL provided by Zappa is pretty darn ugly.  Not only does it use an apparent random domain name, but the Zappa environment is used as the path.  For example:</p>
<div class="codehilite"><pre><span></span>https://bnu0zcwezd.execute-api.us-east-1.amazonaws.com/dev/
        ^^^^^^^^^^^^^^^^^^^^^^                         ^^^
      Auto Generated API Gateway              Your Zappa Environment 
</pre></div>


<p>Ideally most sites would be something like:</p>
<div class="codehilite"><pre><span></span>https://www.zappaguide.com/
</pre></div>


<p>This is entirely possible with Zappa - so how do we get there?</p>
<h2 id="lets-talk-about-https">Let's talk about HTTPS<a class="headerlink" href="#lets-talk-about-https" title="Permanent link">&para;</a></h2>
<p>Perhaps you're wondering why we are introducting the concept of HTTPS when the topic of this walkthough is using a custom domain.  Zappa provides an automated way of creating the necessary custom domain mappings as a part of using encryption.  Thus many of the techiques described in this walkthough will ultimately end up with a custom domain along with HTTPS.  </p>
<p>In an effort to make the process straightforward, we are therefore bundling HTTPS as part of the walkthough.  Philosophical arguments for HTTPS are made <a href="https://developers.google.com/web/fundamentals/security/encrypt-in-transit/why-https">elsewhere</a>.  But with free services like "Let's Encrypt" and AWS Certificate Manner (free for API Gateways) there is no additional cost burden to leverage HTTPS certificates.</p>
<p>Note that we refer to HTTPS instead of SSL and or TLS where <a href="https://security.stackexchange.com/a/5127">appropriate</a>.</p>
<p>As a final note, if you are really opposed to encryption, or need unencrypted traffic for some reason, we will provide a method to accomplish this at the end of the walkthrough.</p>
<h2 id="overview-of-the-process">Overview of the process<a class="headerlink" href="#overview-of-the-process" title="Permanent link">&para;</a></h2>
<p>There are a number of services that are involved in this process:</p>
<ul>
<li><strong>Domain Name Registrar</strong> - Allows you to purchase and register domain names</li>
<li><strong>DNS Providers</strong> - Allows you to host things online using that domain name</li>
<li><strong>Certificate Authority (CA)</strong> - Provides encryption certifications to encrypt traffic for the site</li>
</ul>
<p>Combined with Zappa, these services will all be used in this walkthrough.  Note that many companies and organizations can provide these services and some, like Amazon, can provide all three.</p>
<p>Ultimately, the AWS API Gateway will be associated with a new, dedicated CloudFront distribution that not only leverages the digital certificate to provide HTTPS, but also hides the Zappa environment path.  Finally, a DNS record will point to this new CF Distro to complete the experience for the end user.</p>
<h2 id="registering-your-custom-domain">Registering your Custom Domain<a class="headerlink" href="#registering-your-custom-domain" title="Permanent link">&para;</a></h2>
<p>First you need a registered domain.  It doesn't matter who your domain registrar is as long as you have control over the name server records to point to a DNS provider.  Of all the services, this one is the most generic and almost any Registar will do.</p>
<p>Let's choose an example domain for this walkthrough:
<div class="codehilite"><pre><span></span>www.zappaguide.com
</pre></div>
</p>
<h1 id="options-matrix">Options Matrix<a class="headerlink" href="#options-matrix" title="Permanent link">&para;</a></h1>
<p>Since there are so many service providers, we focus on a couple combinations that work best.  Use the chart below to select the scenario that best matches your situation and follow only one set of instructions.</p>
<table>
<thead>
<tr>
<th>DNS Provider</th>
<th>CA</th>
<th>Notes</th>
<th>Instructions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Route53</td>
<td>AWS Certificate Manager</td>
<td>All AWS combo makes this ridiculous easy</td>
<td><a href="#route53-and-acm">see below</a></td>
</tr>
<tr>
<td>Route53</td>
<td>Let's Encrypt</td>
<td>Another good option that Zappa has smoothed the way</td>
<td>see below</td>
</tr>
<tr>
<td>Other DNS</td>
<td>ACM or Let's Encrypt</td>
<td>Some minor additional steps</td>
<td>see below</td>
</tr>
<tr>
<td>Other DNS</td>
<td>Other</td>
<td>You got some work to do</td>
<td>see below</td>
</tr>
</tbody>
</table>
<h2 id="route53-and-acm">Route53 and ACM<a class="headerlink" href="#route53-and-acm" title="Permanent link">&para;</a></h2>
<h3 id="step-1-create-a-hosted-zone-in-route53">Step 1: Create a Hosted Zone in Route53<a class="headerlink" href="#step-1-create-a-hosted-zone-in-route53" title="Permanent link">&para;</a></h3>
<p>If your Registrar is also Route53, skip this step and move on to Step 2.  AWS did this for you when you registered the domain.</p>
<p>Follow the instructions for <a href="../aws_route53/#create-a-hosted-zone-in-route53">creating a hosted zone in Route53</a></p>
<h3 id="step-2-create-your-digital-certificate-in-acm">Step 2: Create your digital certificate in ACM<a class="headerlink" href="#step-2-create-your-digital-certificate-in-acm" title="Permanent link">&para;</a></h3>
<p>Follow the instructions for <a href="../aws_acm/##request-a-certificate">requesting a certificate in the ACM console</a></p>
<p>Be sure to record the ARN for the newly issued certificate.</p>
<h3 id="step-3-edit-the-zappa-settings-file">Step 3: Edit the Zappa Settings File<a class="headerlink" href="#step-3-edit-the-zappa-settings-file" title="Permanent link">&para;</a></h3>
<h3 id="step-4-run-certify">Step 4: Run Certify<a class="headerlink" href="#step-4-run-certify" title="Permanent link">&para;</a></h3>
<h2 id="route53-and-lets-encrypt">Route53 and Let's Encrypt<a class="headerlink" href="#route53-and-lets-encrypt" title="Permanent link">&para;</a></h2>
<h3 id="step-1-create-a-hosted-zone-in-route53_1">Step 1: Create a Hosted Zone in Route53<a class="headerlink" href="#step-1-create-a-hosted-zone-in-route53_1" title="Permanent link">&para;</a></h3>
<p>If your Registrar is also Route53, skip this step and move on to Step 2.  AWS did this for you when you registered the domain.</p>
<p>Follow the instructions for <a href="../aws_route53/#create-a-hosted-zone-in-route53">creating a hosted zone in Route53</a></p>
<h3 id="step-2-get-lets-encrypt-certificate">Step 2: Get Let's Encrypt certificate<a class="headerlink" href="#step-2-get-lets-encrypt-certificate" title="Permanent link">&para;</a></h3>
<h2 id="other-dns-and-acm-or-lets-encrypt">Other DNS and ACM or Let's Encrypt<a class="headerlink" href="#other-dns-and-acm-or-lets-encrypt" title="Permanent link">&para;</a></h2>
<p>Follow the above steps outlined above but make the following modifications.
Zappa settings
        route53 false</p>
<p>add a CNAME in your DNS provider</p>
<p>warning: you will be responsible for rotating an expired certificates</p>
<h2 id="other-service-providers">Other Service Providers<a class="headerlink" href="#other-service-providers" title="Permanent link">&para;</a></h2>
<p>If you are using a number of non-Amazon service providers, it is possible to still use a custom domain, but you must follow the manual steps <a href="http://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-custom-domains.html">outlined here</a>.</p>
<ul>
<li>Create hosted zone</li>
</ul>
<h1 id="get-ssl-cert">Get SSL Cert<a class="headerlink" href="#get-ssl-cert" title="Permanent link">&para;</a></h1>
<h2 id="outside">outside<a class="headerlink" href="#outside" title="Permanent link">&para;</a></h2>
<ul>
<li>import the cert into acm</li>
<li>but you have to deal with renewals yourself
https://aws.amazon.com/certificate-manager/faqs/</li>
</ul>
<h2 id="acm">ACM<a class="headerlink" href="#acm" title="Permanent link">&para;</a></h2>
<p>do this from the east region and it will distribute
https://aws.amazon.com/certificate-manager/faqs/</p>
<ul>
<li>add domain</li>
<li>the look for email</li>
<li>verify and get the ARN</li>
</ul>
<p>good for 13 months
https://aws.amazon.com/certificate-manager/faqs/</p>
<h1 id="put-in-zappa-settings">put in zappa settings<a class="headerlink" href="#put-in-zappa-settings" title="Permanent link">&para;</a></h1>
<div class="codehilite"><pre><span></span>    &quot;certificate_arn&quot;: &quot;arn:aws:acm:us-east-1:738356466015:certificate/1d066282-ce94-4ad7-a802-2ff87d32b104&quot;,
    &quot;domain&quot;: &quot;www.contoso.com&quot;,
</pre></div>


<h1 id="run">Run<a class="headerlink" href="#run" title="Permanent link">&para;</a></h1>
<div class="codehilite"><pre><span></span>zappa certify dev
</pre></div>


<p>so what happens is that zappa requests that the api gateway associate the custom domain and ssl to a new, hidden cloudfront distribution.  It's hard to figure out what the settings are on this cf distro so just roll with it.
if you are a control freak, just make your own</p>
<p>it takes some time, but now hit it</p>
<p>https://www.contoso.com</p>
<p>http://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-custom-domains.html</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../walk_database/" title="Using a Database" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Using a Database
              </span>
            </div>
          </a>
        
        
          <a href="../aws_credentials/" title="Managing Credentials" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Managing Credentials
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2017 <a href="https://github.com/edgarroman">Edgar Roman</a>
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-0b7df094bf.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-97437653-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>